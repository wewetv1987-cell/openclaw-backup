# å¤šä»£ç†ååŒå·¥ä½œç³»ç»Ÿ

> é«˜æ•ˆã€å®æ—¶åé¦ˆã€ä»»åŠ¡åˆ†é…åˆç†çš„å¤šä»£ç†æ¶æ„

## ä»£ç†æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ¯ åè°ƒä¸­å¿ƒ (Main)                        â”‚
â”‚                     å®æ—¶åé¦ˆ Â· ä»»åŠ¡åˆ†é… Â· è¿›åº¦ç›‘æ§                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚              â”‚              â”‚
         â–¼              â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’» Coder    â”‚ â”‚ ğŸ¤– Automatorâ”‚ â”‚ ğŸ“š Learner  â”‚ â”‚ ğŸ’° Trader   â”‚
â”‚   ç¼–ç¨‹ä»£ç†   â”‚ â”‚   è‡ªåŠ¨åŒ–ä»£ç† â”‚ â”‚   å­¦ä¹ ä»£ç†   â”‚ â”‚   é‡‘èä»£ç†   â”‚
â”‚             â”‚ â”‚             â”‚ â”‚             â”‚ â”‚             â”‚
â”‚ code-mentor â”‚ â”‚ agent-      â”‚ â”‚ learning    â”‚ â”‚ finance     â”‚
â”‚ coding      â”‚ â”‚ browser     â”‚ â”‚ elite-      â”‚ â”‚ stock-      â”‚
â”‚             â”‚ â”‚ autonomy-kitâ”‚ â”‚ longterm    â”‚ â”‚ watcher     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä»£ç†è§’è‰²å®šä¹‰

### ğŸ¯ Main (åè°ƒä¸­å¿ƒ)
- **èŒè´£**: ä»»åŠ¡åˆ†é…ã€è¿›åº¦ç›‘æ§ã€å®æ—¶åé¦ˆ
- **æŠ€èƒ½**: æ‰€æœ‰æŠ€èƒ½çš„åè°ƒè®¿é—®
- **åé¦ˆé¢‘ç‡**: æ¯æ¬¡ä»»åŠ¡çŠ¶æ€å˜åŒ–æ—¶é€šçŸ¥ç”¨æˆ·
- **æ¨¡å‹**: zai/glm-5 (ä¸»æ¨¡å‹)

### ğŸ’» Coder (ç¼–ç¨‹ä»£ç†)
- **èŒè´£**: ä»£ç ç¼–å†™ã€è°ƒè¯•ã€ä»£ç å®¡æŸ¥
- **æŠ€èƒ½**: code-mentor, coding, agent-browser
- **è§¦å‘æ¡ä»¶**: "å†™ä»£ç "ã€"è°ƒè¯•"ã€"ç¼–ç¨‹"ã€"å®ç°xxx"
- **åé¦ˆ**: æ¯5åˆ†é’Ÿæˆ–å®Œæˆé‡Œç¨‹ç¢‘æ—¶

### ğŸ¤– Automator (è‡ªåŠ¨åŒ–ä»£ç†)
- **èŒè´£**: æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€é‡å¤ä»»åŠ¡ã€æ•°æ®å¤„ç†
- **æŠ€èƒ½**: agent-browser, agent-autonomy-kit
- **è§¦å‘æ¡ä»¶**: "è‡ªåŠ¨åŒ–"ã€"æ‰¹é‡å¤„ç†"ã€"æ‰“å¼€ç½‘é¡µ"ã€"å®šæ—¶ä»»åŠ¡"
- **åé¦ˆ**: æ¯ä¸ªæ“ä½œæ­¥éª¤ + å®Œæˆ/å¤±è´¥é€šçŸ¥

### ğŸ“š Learner (å­¦ä¹ ä»£ç†)
- **èŒè´£**: çŸ¥è¯†å­¦ä¹ ã€æŠ€èƒ½æå‡ã€ä¿¡æ¯æ•´ç†
- **æŠ€èƒ½**: learning, elite-longterm-memory, tavily-search
- **è§¦å‘æ¡ä»¶**: "å­¦ä¹ "ã€"äº†è§£"ã€"ç ”ç©¶"ã€"å¸®æˆ‘å­¦"
- **åé¦ˆ**: å­¦ä¹ è¿›åº¦ + çŸ¥è¯†ç‚¹æ€»ç»“

### ğŸ’° Trader (é‡‘èä»£ç†)
- **èŒè´£**: è‚¡ç¥¨ç›‘æ§ã€æ•°æ®åˆ†æã€æŠ•èµ„ç ”ç©¶
- **æŠ€èƒ½**: finance, stock-watcher, tavily-search
- **è§¦å‘æ¡ä»¶**: "è‚¡ç¥¨"ã€"è¡Œæƒ…"ã€"æŠ•èµ„"ã€"ä»·æ ¼"
- **åé¦ˆ**: å®æ—¶æ•°æ® + å®šæ—¶æŠ¥å‘Š

## ä»»åŠ¡åˆ†é…è§„åˆ™

| ç”¨æˆ·è¯·æ±‚ | åˆ†é…ä»£ç† | ä¼˜å…ˆçº§ | åé¦ˆé¢‘ç‡ |
|---------|---------|--------|---------|
| "å†™ä¸€ä¸ªxxxå‡½æ•°" | Coder | é«˜ | æ¯å®Œæˆä¸€ä¸ªå‡½æ•° |
| "è°ƒè¯•è¿™æ®µä»£ç " | Coder | é«˜ | å‘ç°é—®é¢˜æ—¶ |
| "è‡ªåŠ¨åŒ–xxxæµç¨‹" | Automator | ä¸­ | æ¯ä¸ªæ­¥éª¤ |
| "æ¯å¤©å®šæ—¶xxx" | Automator | ä¸­ | æ‰§è¡Œæ—¶ |
| "å­¦ä¹ xxxçŸ¥è¯†" | Learner | ä½ | æ¯10åˆ†é’Ÿ |
| "ç ”ç©¶xxxæŠ€æœ¯" | Learner | ä½ | æœ‰å…³é”®å‘ç°æ—¶ |
| "æŸ¥ä¸€ä¸‹xxxè‚¡ä»·" | Trader | é«˜ | ç«‹å³ |
| "ç›‘æ§xxxè‚¡ç¥¨" | Trader | ä¸­ | ä»·æ ¼å˜åŠ¨>2% |
| "æŠ•èµ„å»ºè®®" | Trader | ä¸­ | åˆ†æå®Œæˆæ—¶ |

## å®æ—¶åé¦ˆæœºåˆ¶

### 1. è¿›åº¦å¿ƒè·³ (Progress Heartbeat)
æ¯ä¸ªä»£ç†åœ¨æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œå®šæœŸå‘ Main æ±‡æŠ¥ï¼š

```
[Agent] Coder
[Task] å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½
[Progress] â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%
[Status] æ­£åœ¨ç¼–å†™éªŒè¯é€»è¾‘
[ETA] ~2åˆ†é’Ÿ
```

### 2. é‡Œç¨‹ç¢‘é€šçŸ¥
å®Œæˆé‡è¦èŠ‚ç‚¹æ—¶ç«‹å³é€šçŸ¥ï¼š

```
âœ… [Coder] ç™»å½•APIå·²å®Œæˆ
ğŸ“ ä»£ç å·²ä¿å­˜åˆ°: /path/to/login.js
â±ï¸ è€—æ—¶: 3åˆ†é’Ÿ
```

### 3. é˜»å¡å‘Šè­¦
é‡åˆ°é—®é¢˜æ—¶ç«‹å³æŠ¥å‘Šï¼š

```
âš ï¸ [Automator] ç­‰å¾…ä¸­...
ğŸ“Œ åŸå› : ç½‘é¡µåŠ è½½è¶…æ—¶
ğŸ”„ æ­£åœ¨é‡è¯• (2/3)
```

## ååŒå·¥ä½œæµç¤ºä¾‹

### åœºæ™¯: ç”¨æˆ·è¦æ±‚"åšä¸€ä¸ªè‚¡ç¥¨ç›‘æ§ç³»ç»Ÿ"

```
1. [Main] æ”¶åˆ°è¯·æ±‚ â†’ åˆ†æéœ€è¦å¤šä»£ç†åä½œ
2. [Main] åˆ†è§£ä»»åŠ¡:
   - Coder: å®ç°æ•°æ®é‡‡é›†API
   - Trader: é…ç½®è‚¡ç¥¨ç›‘æ§åˆ—è¡¨
   - Automator: è®¾ç½®å®šæ—¶ä»»åŠ¡

3. [Coder] å¼€å§‹å·¥ä½œ
   â””â”€ [30s] è®¾è®¡APIç»“æ„
   â””â”€ [2m] å®ç°æ ¸å¿ƒé€»è¾‘
   â””â”€ [3m] âœ… APIå®Œæˆ â†’ é€šçŸ¥ Main

4. [Trader] é…ç½®ç›‘æ§
   â””â”€ [10s] æ·»åŠ è‚¡ç¥¨ä»£ç 
   â””â”€ [30s] æµ‹è¯•æ•°æ®è·å–
   â””â”€ [1m] âœ… é…ç½®å®Œæˆ â†’ é€šçŸ¥ Main

5. [Automator] è®¾ç½®å®šæ—¶
   â””â”€ [20s] åˆ›å»ºcronä»»åŠ¡
   â””â”€ [10s] æµ‹è¯•æ‰§è¡Œ
   â””â”€ [30s] âœ… ç³»ç»Ÿä¸Šçº¿ â†’ é€šçŸ¥ Main

6. [Main] æ±‡æ€»ç»“æœ â†’ å‘ç”¨æˆ·æŠ¥å‘Š
```

## é¿å…é•¿æ—¶é—´æ— åé¦ˆ

### ç­–ç•¥1: è¿›åº¦ç™¾åˆ†æ¯”
é•¿ä»»åŠ¡å¿…é¡»æœ‰è¿›åº¦æŒ‡ç¤ºï¼š
```
[Coder] é‡æ„ä»£ç åº“
è¿›åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 40% (47/118 æ–‡ä»¶)
```

### ç­–ç•¥2: é˜¶æ®µæ€§æŠ¥å‘Š
æ¯å®Œæˆä¸€ä¸ªé˜¶æ®µç«‹å³æŠ¥å‘Šï¼š
```
[Automator] æ‰¹é‡å¤„ç†å®Œæˆ
- å¤„ç†: 100æ¡æ•°æ®
- æˆåŠŸ: 98æ¡
- å¤±è´¥: 2æ¡ (å·²è®°å½•)
- è€—æ—¶: 2åˆ†30ç§’
```

### ç­–ç•¥3: è¶…æ—¶æç¤º
è¶…è¿‡é¢„æœŸæ—¶é—´æ—¶ä¸»åŠ¨è¯´æ˜ï¼š
```
â° [Learner] ä»»åŠ¡è€—æ—¶è¾ƒé•¿
åŸå› : éœ€è¦é˜…è¯»å¤§é‡æ–‡æ¡£
å½“å‰: æ­£åœ¨åˆ†æç¬¬15ç¯‡è®ºæ–‡
é¢„è®¡: è¿˜éœ€5åˆ†é’Ÿ
```

## é…ç½®æ–‡ä»¶

### agents.json
```json
{
  "agents": {
    "list": [
      {
        "id": "main",
        "name": "åè°ƒä¸­å¿ƒ",
        "default": true,
        "skills": ["*"],
        "heartbeat": {
          "every": "1m",
          "prompt": "æ£€æŸ¥æ‰€æœ‰å­ä»£ç†çŠ¶æ€å¹¶æ±‡æŠ¥"
        }
      },
      {
        "id": "coder",
        "name": "ç¼–ç¨‹ä»£ç†",
        "skills": ["code-mentor", "coding", "agent-browser"],
        "model": "zai/glm-5"
      },
      {
        "id": "automator",
        "name": "è‡ªåŠ¨åŒ–ä»£ç†", 
        "skills": ["agent-browser", "agent-autonomy-kit"],
        "model": "zai/glm-4.7-flash"
      },
      {
        "id": "learner",
        "name": "å­¦ä¹ ä»£ç†",
        "skills": ["learning", "elite-longterm-memory", "tavily-search"],
        "model": "zai/glm-5"
      },
      {
        "id": "trader",
        "name": "é‡‘èä»£ç†",
        "skills": ["finance", "stock-watcher", "tavily-search"],
        "model": "zai/glm-5"
      }
    ]
  }
}
```

## ä½¿ç”¨ç¤ºä¾‹

```bash
# ç›´æ¥å‘ç‰¹å®šä»£ç†å‘ä»»åŠ¡
sessions_send --agentId coder "å®ç°ä¸€ä¸ªJWTè®¤è¯ä¸­é—´ä»¶"

# å‘åè°ƒä¸­å¿ƒè¯·æ±‚
sessions_send --agentId main "å¸®æˆ‘åšä¸€ä¸ªè‚¡ç¥¨ç›‘æ§ç³»ç»Ÿ"

# æŸ¥çœ‹ä»£ç†çŠ¶æ€
sessions_list --kinds agent
```

---
*Created: 2026-02-16*
